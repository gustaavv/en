<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/en/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="FWtJ63eXspf6fS1eJ3SbRLiQVfYelc2G0J0NYIOmgUo">
  <meta name="msvalidate.01" content="CAECB021ABB77291B191A2118F7C5255">

<link rel="stylesheet" href="/en/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"gustaavv.github.io","root":"/en/","images":"/en/images","scheme":"Gemini","darkmode":false,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#008000","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script>

    <meta name="description" content="Introduction In my previous post, I used QQ Mail as the notification service for ChangeDetection. That was just for quickly getting started with ChangeDetection, but it wasn‚Äôt necessary since there ar">
<meta property="og:type" content="article">
<meta property="og:title" content="Install and Use ntfy">
<meta property="og:url" content="https://gustaavv.github.io/en/2024/10/10/ntfy-install-and-usage/index.html">
<meta property="og:site_name" content="Gustav&#39;s blog">
<meta property="og:description" content="Introduction In my previous post, I used QQ Mail as the notification service for ChangeDetection. That was just for quickly getting started with ChangeDetection, but it wasn‚Äôt necessary since there ar">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-10-10T00:10:36.000Z">
<meta property="article:modified_time" content="2024-10-10T00:10:36.000Z">
<meta property="article:author" content="Gustav">
<meta property="article:tag" content="NAS">
<meta property="article:tag" content="Docker">
<meta property="article:tag" content="ChangeDetection">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="ntfy">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://gustaavv.github.io/en/2024/10/10/ntfy-install-and-usage/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://gustaavv.github.io/en/2024/10/10/ntfy-install-and-usage/","path":"2024/10/10/ntfy-install-and-usage/","title":"Install and Use ntfy"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Install and Use ntfy | Gustav's blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SBFGGZ14VS"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-SBFGGZ14VS","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/en/js/third-party/analytics/google-analytics.js"></script>

  <script src="/en/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?7b0efd48ab95cb46e5799442746baf90"></script>







  <noscript>
    <link rel="stylesheet" href="/en/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/en/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Gustav's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/en/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/en/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-switch-to-chinese"><a href="https://gustaavv.github.io/" rel="section"><i class="fa fa-language fa-fw"></i>Switch to Chinese</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Installation-and-Configuration"><span class="nav-number">2.</span> <span class="nav-text">Installation and Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker-compose"><span class="nav-number">2.1.</span> <span class="nav-text">Docker compose</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ntfy-Configuration"><span class="nav-number">2.2.</span> <span class="nav-text">ntfy Configuration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Nginx-Configuration"><span class="nav-number">2.3.</span> <span class="nav-text">Nginx Configuration</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VM-NAT-and-Host-Firewall"><span class="nav-number">2.4.</span> <span class="nav-text">VM NAT and Host Firewall</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Usage"><span class="nav-number">3.</span> <span class="nav-text">Usage</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Access-Control"><span class="nav-number">3.1.</span> <span class="nav-text">Access Control</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Integration-with-ChangeDetection"><span class="nav-number">4.</span> <span class="nav-text">Integration with ChangeDetection</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Access-Control-2"><span class="nav-number">4.1.</span> <span class="nav-text">Access Control</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Notification-URL"><span class="nav-number">4.2.</span> <span class="nav-text">Notification URL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Container-CA-Certificate-Configuration"><span class="nav-number">4.3.</span> <span class="nav-text">Container CA Certificate Configuration</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-1-Trust-the-Certificate-in-the-Container"><span class="nav-number">4.3.1.</span> <span class="nav-text">Solution 1: Trust the Certificate in the Container</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-2-Use-the-REQUESTS-CA-BUNDLE-Environment-Variable"><span class="nav-number">4.3.2.</span> <span class="nav-text">Solution 2: Use the REQUESTS_CA_BUNDLE Environment Variable</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Solution-3-Add-the-Certificate-to-the-certifi-Package"><span class="nav-number">4.3.3.</span> <span class="nav-text">Solution 3: Add the Certificate to the certifi Package</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#References"><span class="nav-number">5.</span> <span class="nav-text">References</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Gustav"
      src="https://avatars.githubusercontent.com/u/69737612?v=4">
  <p class="site-author-name" itemprop="name">Gustav</p>
  <div class="site-description" itemprop="description">Hi, I am Gustav.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/en/archives/">
          <span class="site-state-item-count">41</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/en/categories/">
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/en/tags/">
        <span class="site-state-item-count">65</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/gustaavv" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;gustaavv" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:gustaavv.git@yahoo.com" title="E-Mail ‚Üí mailto:gustaavv.git@yahoo.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>
<script src="/en/js/switch_language.js"></script>

        </div>
      </div>
    </div>

    
        <div class="pjax">
        <div class="sidebar-inner sidebar-post-related">
          <div class="animated">
              <div class="links-of-blogroll-title"><i class="fa fa-signs-post fa-fw"></i>
    Related Posts
  </div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/en/2024/01/31/Docker-Nginx-SSL-Local-Network/" rel="bookmark">
        <time class="popular-posts-time">2024-01-31</time>
        <br>
      Deploying Nginx in Docker and Configuring SSL Certificate for Local Network
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/en/2024/10/02/ChangeDetection-install-and-usage/" rel="bookmark">
        <time class="popular-posts-time">2024-10-02</time>
        <br>
      Install and Use ChangeDetection
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/en/2024/06/11/Docker-Accessing-Containers-IP-or-Container-Name/" rel="bookmark">
        <time class="popular-posts-time">2024-06-11</time>
        <br>
      How to Access Docker Containers? IP Address or Container Name?
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/en/2024/02/11/Jellyfin-Docker/" rel="bookmark">
        <time class="popular-posts-time">2024-02-11</time>
        <br>
      Install Jellyfin in Docker
      </a>
    </li>
    <li class="popular-posts-item">
      <a class="popular-posts-link" href="/en/2024/02/17/jellyfin-original-filename/" rel="bookmark">
        <time class="popular-posts-time">2024-02-17</time>
        <br>
      Display Original Filenames in Jellyfin
      </a>
    </li>
  </ul>

          </div>
        </div>
        </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://gustaavv.github.io/en/2024/10/10/ntfy-install-and-usage/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/69737612?v=4">
      <meta itemprop="name" content="Gustav">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Gustav's blog">
      <meta itemprop="description" content="Hi, I am Gustav.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Install and Use ntfy | Gustav's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Install and Use ntfy
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2024-10-10 08:10:36" itemprop="dateCreated datePublished" datetime="2024-10-10T08:10:36+08:00">2024-10-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/en/categories/tech/" itemprop="url" rel="index"><span itemprop="name">tech</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/en/categories/NAS/" itemprop="url" rel="index"><span itemprop="name">NAS</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/en/categories/tech/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/en/categories/tech/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="Word count in article">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">Word count in article: </span>
      <span>1.2k</span>
    </span>
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>4 mins.</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="Introduction">Introduction</h1>
<p>In <a href="/en/2024/10/02/ChangeDetection-install-and-usage/">my previous post</a>, I used QQ Mail as the notification service for ChangeDetection. That was just for quickly getting started with ChangeDetection, but it wasn‚Äôt necessary since there are several open-source notification systems available, such as <a target="_blank" rel="noopener" href="https://github.com/binwiederhier/ntfy">ntfy</a>. This article will walk through the installation and usage of ntfy, which is quite straightforward. However, I encountered some issues when integrating it with ChangeDetection, and this post will cover the solutions to those problems as well.</p>
<span id="more"></span>
<h1 id="Installation-and-Configuration">Installation and Configuration</h1>
<h2 id="Docker-compose">Docker compose</h2>
<p>The ntfy Web UI uses the Notifications API, which requires HTTPS, so we need to launch an Nginx container.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&quot;3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.24</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx-ntfy</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/docker/nginx_conf/nginx-ntfy.conf:/etc/nginx/nginx.conf:ro</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/opt/docker/nginx_ssl:/etc/nginx/ssl/:ro</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">40043</span><span class="string">:443</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ntfy</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">ntfy:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">binwiederhier/ntfy:v2.11.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">ntfy</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">serve</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">TZ=Asia/Shanghai</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ntfy_data:/var/cache/ntfy</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ntfy_config:/etc/ntfy</span></span><br><span class="line">    <span class="comment"># ports:</span></span><br><span class="line">    <span class="comment">#   - 50080:80</span></span><br><span class="line">    <span class="attr">healthcheck:</span> <span class="comment"># optional: remember to adapt the host:port to your environment</span></span><br><span class="line">        <span class="attr">test:</span> [<span class="string">&quot;CMD-SHELL&quot;</span>, <span class="string">&quot;wget -q --tries=1 http://localhost:80/v1/health -O - | grep -Eo &#x27;\&quot;healthy\&quot;\\s*:\\s*true&#x27; || exit 1&quot;</span>]</span><br><span class="line">        <span class="attr">interval:</span> <span class="string">60s</span></span><br><span class="line">        <span class="attr">timeout:</span> <span class="string">10s</span></span><br><span class="line">        <span class="attr">retries:</span> <span class="number">3</span></span><br><span class="line">        <span class="attr">start_period:</span> <span class="string">40s</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line"></span><br><span class="line"><span class="attr">volumes:</span></span><br><span class="line">  <span class="attr">ntfy_data:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">ntfy_config:</span></span><br><span class="line">    <span class="attr">external:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<h2 id="ntfy-Configuration">ntfy Configuration</h2>
<p>Manually create the configuration file: <code>/etc/ntfy/server.yml</code>. For specific configuration options, refer to <a target="_blank" rel="noopener" href="https://github.com/binwiederhier/ntfy/blob/main/server/server.yml">the template provided by the official site</a>. My configuration includes the following options:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">base-url:</span> <span class="string">&quot;https://&lt;host_IP&gt;:40043&quot;</span></span><br><span class="line"><span class="attr">cache-file:</span> <span class="string">&quot;/var/cache/ntfy/cache.db&quot;</span></span><br><span class="line"><span class="attr">cache-duration:</span> <span class="string">&quot;24h&quot;</span></span><br><span class="line"><span class="attr">auth-file:</span> <span class="string">&quot;/var/cache/ntfy/user.db&quot;</span></span><br><span class="line"><span class="attr">auth-default-access:</span> <span class="string">&quot;deny-all&quot;</span></span><br><span class="line"><span class="attr">behind-proxy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>By default, ntfy doesn‚Äôt persist messages, only forwarding them in real-time. This can lead to message loss in two scenarios:</p>
<ul>
<li>ntfy is online, but the client experiences a network issue. Upon reconnection, the client won‚Äôt receive messages sent during the outage.</li>
<li>The client is online, but ntfy goes offline before forwarding a message. Upon restarting, the message is lost.</li>
</ul>
<p>Using the <code>cache-file</code> essentially turns ntfy into a message queue, mitigating these issues. The duration for which messages are cached is set by <code>cache-duration</code>.</p>
<hr>
<p>ntfy also supports sending images and attachments, but since I don‚Äôt need those features, I didn‚Äôt configure them.</p>
<h2 id="Nginx-Configuration">Nginx Configuration</h2>
<blockquote>
<p>For Nginx and SSL certificate setup, refer to <a href="/en/2024/01/31/Docker-Nginx-SSL-Local-Network/">my previous post</a>.</p>
</blockquote>
<p>The official document provides an <a target="_blank" rel="noopener" href="https://docs.ntfy.sh/config/#nginxapache2caddy">Nginx template</a>. Here‚Äôs my configuration:</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">user</span> nginx;</span><br><span class="line"><span class="attribute">worker_processes</span> auto;</span><br><span class="line"></span><br><span class="line"><span class="attribute">error_log</span> /var/log/nginx/<span class="literal">error</span>.log <span class="literal">notice</span>;</span><br><span class="line"><span class="attribute">pid</span> /var/run/nginx.pid;</span><br><span class="line"></span><br><span class="line"><span class="section">events</span> &#123;</span><br><span class="line">	<span class="attribute">worker_connections</span> <span class="number">1024</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">	<span class="attribute">include</span> /etc/nginx/mime.types;</span><br><span class="line">	<span class="attribute">default_type</span> application/octet-stream;</span><br><span class="line"></span><br><span class="line">	<span class="attribute">log_format</span> main <span class="string">&#x27;<span class="variable">$remote_addr</span> - <span class="variable">$remote_user</span> [<span class="variable">$time_local</span>] &quot;<span class="variable">$request</span>&quot; &#x27;</span></span><br><span class="line">	<span class="string">&#x27;<span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> &quot;<span class="variable">$http_referer</span>&quot; &#x27;</span></span><br><span class="line">	<span class="string">&#x27;&quot;<span class="variable">$http_user_agent</span>&quot; &quot;<span class="variable">$http_x_forwarded_for</span>&quot;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="attribute">access_log</span> /var/log/nginx/access.log main;</span><br><span class="line"></span><br><span class="line">	<span class="attribute">sendfile</span> <span class="literal">on</span>;</span><br><span class="line"></span><br><span class="line">	<span class="attribute">keepalive_timeout</span> <span class="number">65</span>;</span><br><span class="line"></span><br><span class="line">	<span class="section">server</span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="attribute">listen</span> <span class="number">443</span> default_server ssl http2;</span><br><span class="line">		<span class="attribute">listen</span> [::]:<span class="number">443</span> ssl http2;</span><br><span class="line"></span><br><span class="line">		<span class="attribute">ssl_certificate</span> /etc/nginx/ssl/nginx_server.crt;</span><br><span class="line">		<span class="attribute">ssl_certificate_key</span> /etc/nginx/ssl/nginx_server.key;</span><br><span class="line"></span><br><span class="line">		<span class="section">location</span> / &#123;</span><br><span class="line"></span><br><span class="line">			<span class="attribute">proxy_pass</span> http://ntfy:80;</span><br><span class="line">			<span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			<span class="attribute">proxy_buffering</span> <span class="literal">off</span>;</span><br><span class="line">			<span class="attribute">proxy_request_buffering</span> <span class="literal">off</span>;</span><br><span class="line">			<span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line"></span><br><span class="line">			<span class="attribute">proxy_set_header</span> Host <span class="variable">$http_host</span>;</span><br><span class="line">			<span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">			<span class="attribute">proxy_set_header</span> Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">			<span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"></span><br><span class="line">			<span class="attribute">proxy_connect_timeout</span> <span class="number">3m</span>;</span><br><span class="line">			<span class="attribute">proxy_send_timeout</span> <span class="number">3m</span>;</span><br><span class="line">			<span class="attribute">proxy_read_timeout</span> <span class="number">3m</span>;</span><br><span class="line"></span><br><span class="line">			<span class="attribute">client_max_body_size</span> <span class="number">0</span>; <span class="comment"># Stream request body to backend</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="VM-NAT-and-Host-Firewall">VM NAT and Host Firewall</h2>
<p>My host machine is running Win10, with a Linux VM running Docker via VMware. Therefore, I have to configure VM NAT and open up the host‚Äôs firewall. You can refer to <a href="/en/2024/01/25/LANraragi-manga-server/#Sharing-With-Other-Devices">this post</a> for more details.</p>
<p>I opened port 40043 on the host to enable local network sharing.</p>
<h1 id="Usage">Usage</h1>
<p>For a basic Hello World example, see the <a target="_blank" rel="noopener" href="https://docs.ntfy.sh/">official site</a>. I won‚Äôt go into it here.</p>
<h2 id="Access-Control">Access Control</h2>
<p>You might have noticed that my configuration file includes:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auth-default-access:</span> <span class="string">&quot;deny-all&quot;</span></span><br></pre></td></tr></table></figure>
<p>By default, clients connected to ntfy have no read or write permissions for any topics. This is the most secure setup, but it‚Äôs also the most cumbersome to manage.</p>
<p>To add a <code>test</code> topic and allow everyone to read/write:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/ <span class="comment"># ntfy access everyone test rw</span></span><br><span class="line">granted read-write access to topic <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line">user * (role: anonymous, tier: none)</span><br><span class="line">- read-write access to topic <span class="built_in">test</span></span><br><span class="line">- no access to any (other) topics (server config</span><br></pre></td></tr></table></figure>
<h1 id="Integration-with-ChangeDetection">Integration with ChangeDetection</h1>
<h2 id="Access-Control-2">Access Control</h2>
<p>For the <code>ChangeDetection</code> topic, I created a writer and a reader:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/ <span class="comment"># ntfy access</span></span><br><span class="line">user ChangeDetectionPublisher (role: user, tier: none)</span><br><span class="line">- write-only access to topic ChangeDetection</span><br><span class="line">user homeDevice (role: user, tier: none)</span><br><span class="line">- read-only access to topic ChangeDetection</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Remembering these users‚Äô passwords can be tricky. I use a randomly generated long password for the writer, making this user essentially one-time use for a single topic. If I forget the password, I‚Äôll just create a new user. For the reader, I use a short, easy-to-remember password (with some risk of being cracked).</p>
</blockquote>
<h2 id="Notification-URL">Notification URL</h2>
<p>According to the <a target="_blank" rel="noopener" href="https://docs.ntfy.sh/examples/#changedetectionio">official documentation</a>, the notification URL for ChangeDetection is:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ntfys://ChangeDetectionPublisher:&lt;password&gt;@&lt;VM_IP&gt;:40043/ChangeDetection</span><br></pre></td></tr></table></figure>
<ul>
<li>Since I‚Äôm using HTTPS, the prefix is <code>ntfys</code>; if using HTTP, it would be <code>ntfy</code>.</li>
<li>Regardless of which Docker network the container is in, it will correctly resolve the host‚Äôs IP (which in this case is the VM‚Äôs IP), no matter which network the IP belongs to (e.g., Docker network, VMware adapter network).</li>
</ul>
<h2 id="Container-CA-Certificate-Configuration">Container CA Certificate Configuration</h2>
<p>After configuring the ChangeDetection notification URL and clicking test, the following error appeared:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Caused by SSLError(SSLCertVerificationError(1, &#x27;[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1006)&#x27;)))</span><br></pre></td></tr></table></figure>
<p>This error is expected because Nginx is using a self-signed SSL certificate, and the ChangeDetection container doesn‚Äôt trust my self-created CA certificate.</p>
<h3 id="Solution-1-Trust-the-Certificate-in-the-Container">Solution 1: Trust the Certificate in the Container</h3>
<p>First, copy the self-signed certificate into the container:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> /path/to/your/certificate.crt &lt;container_name&gt;:/usr/local/share/ca-certificates/</span><br></pre></td></tr></table></figure>
<p>Then, inside the container, update the CA certificates:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-ca-certificates</span><br></pre></td></tr></table></figure>
<p>Finally, restart the container.</p>
<p>This solution works for <code>curl</code>, <code>wget</code>, and similar commands, but it doesn‚Äôt work for ChangeDetection because it‚Äôs developed in Python. Python doesn‚Äôt use the OS‚Äôs certificates but instead uses the <code>certifi</code> package‚Äôs certificates. So, the focus should be on making Python trust the certificate rather than the container.</p>
<h3 id="Solution-2-Use-the-REQUESTS-CA-BUNDLE-Environment-Variable">Solution 2: Use the <code>REQUESTS_CA_BUNDLE</code> Environment Variable</h3>
<p>Modify the ChangeDetection Docker Compose file:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">changedetection:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">dgtlmoon/changedetection.io</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">REQUESTS_CA_BUNDLE=/path/in/container/your_certificate.crt</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">/path/to/certificate.crt:/path/in/container/your_certificate.crt</span></span><br></pre></td></tr></table></figure>
<p>This method is also not correct for ChangeDetection, as setting this environment variable overrides the entire set of existing certificates, meaning ChangeDetection will only trust the ntfy certificate and won‚Äôt trust any certificates on the internet. Since ChangeDetection needs to access the internet, this creates a conflict.</p>
<p>For some scripts, like the one I previously wrote about <a href="/en/2024/02/17/jellyfin-original-filename/?highlight=requests_ca_bundle#My-Solution">‚ÄúDisplay Original Filenames in Jellyfin‚Äù</a>, using this environment variable can still be quite handy.</p>
<h3 id="Solution-3-Add-the-Certificate-to-the-certifi-Package">Solution 3: Add the Certificate to the <code>certifi</code> Package</h3>
<p>Enter the container:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; import certifi</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; certifi.where()</span></span><br><span class="line">/path/to/the/certifi/cacert.pem</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;&gt; <span class="built_in">exit</span>()</span></span><br><span class="line">cat /path/in/container/your_certificate.crt &gt;&gt; /path/to/the/certifi/cacert.pem</span><br></pre></td></tr></table></figure>
<p>Then restart the container.</p>
<p>This is the only viable solution at the moment.</p>
<p>For containers, it‚Äôs okay if the <code>certifi</code> package gets messed up, because you can always create a new container. For hosts, consider creating a new <code>venv</code> or <code>conda env</code> for this task, so you don‚Äôt damage your existing environment.</p>
<hr>
<p>After testing ChangeDetection again, everything is working fine. The integration is completed üòÅ.</p>
<h1 id="References">References</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.ntfy.sh/install/#docker">ntfy doc: Installation</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.ntfy.sh/config/">ntfy doc: Config</a></li>
<li>ChatGPT</li>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/70988519/23172420">How to get Python requests to trust a self signed SSL certificate?</a></li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>Post author:  </strong>Gustav
  </li>
  <li class="post-copyright-link">
      <strong>Post link: </strong>
      <a href="https://gustaavv.github.io/en/2024/10/10/ntfy-install-and-usage/" title="Install and Use ntfy">https://gustaavv.github.io/en/2024/10/10/ntfy-install-and-usage/</a>
  </li>
  <li class="post-copyright-license">
      <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/en/tags/NAS/" rel="tag"><i class="fa fa-tag"></i> NAS</a>
              <a href="/en/tags/Docker/" rel="tag"><i class="fa fa-tag"></i> Docker</a>
              <a href="/en/tags/ChangeDetection/" rel="tag"><i class="fa fa-tag"></i> ChangeDetection</a>
              <a href="/en/tags/Python/" rel="tag"><i class="fa fa-tag"></i> Python</a>
              <a href="/en/tags/ntfy/" rel="tag"><i class="fa fa-tag"></i> ntfy</a>
          </div>

        
  <div class="social-like a2a_kit a2a_kit_size_32 a2a_default_style">
    <a class="a2a_dd" target="_blank" rel="noopener" href="https://www.addtoany.com/share"></a>
      <a class="a2a_button_facebook"></a>
      <a class="a2a_button_twitter"></a>
      <a class="a2a_button_telegram"></a>
      <a class="a2a_button_wechat"></a>
      <a class="a2a_button_sina_weibo"></a>
  </div>

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/en/2024/10/02/ChangeDetection-install-and-usage/" rel="prev" title="Install and Use ChangeDetection">
                  <i class="fa fa-angle-left"></i> Install and Use ChangeDetection
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/en/2025/01/15/Algorithm-Problem-007-substring-with-concatenation-of-all-words/" rel="next" title="Algorithm Problem 007: Substring with Concatenation of All Words">
                  Algorithm Problem 007: Substring with Concatenation of All Words <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Gustav</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>Word count total: </span>
    <span title="Word count total">39k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>Reading time total &asymp;</span>
    <span title="Reading time total">2:23</span>
  </span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/gustaavv" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
<script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/sidebar.js"></script><script src="/en/js/next-boot.js"></script><script src="/en/js/pjax.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/en/js/third-party/search/local-search.js"></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.0/mermaid.min.js","integrity":"sha256-stuqcu2FrjYCXDOytWFA5SoUE/r3nkp6gTglzNSlavU="}}</script>
  <script src="/en/js/third-party/tags/mermaid.js"></script>



  <script src="/en/js/third-party/pace.js"></script>

  <script src="/en/js/third-party/addtoany.js"></script>

  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":"enable","tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/en/js/third-party/math/mathjax.js"></script>



</body>
</html>
